{"version":3,"file":"LoginPage-CgZY00-e.js","sources":["../../src/data/users.ts","../../src/utils/hashPassword.ts","../../src/assets/login.webp","../../src/pages/LoginPage.tsx"],"sourcesContent":["// src/data/users.ts\n// ‚úÖ User data with hashed passwords and role typing, clean and scalable\n\nexport interface User {\n  passwordHash: string\n  role: 'admin' | 'user'\n}\n\nexport const users: Record<string, User> = {\n  admin2517: {\n    passwordHash: '46c883f81adcbad298233e4fc0b3d84c66a4ad686d2af7153f888663f6c1d84b',\n    role: 'admin',\n  },\n\n  JPKYETONKEY201: {\n    passwordHash: '22becba9ac05f53d1dea3afb1cf9e7c71096598e3e138b678746ee33e53e3111',\n    role: 'user',\n  },\n  JPKYETONKEY222: {\n    passwordHash: '1c8d401732c1f993d2602ca537f7c40bc95ec90cfe96b5efb7fb8c5f4ddbbd37',\n    role: 'user',\n  },\n  JPKYETONKEY233: {\n    passwordHash: 'e867bba904e46f9e17a91d9dc319420f5fce59e40a5be31ddc97185f501ee10b',\n    role: 'user',\n  },\n  JPKYETONKEY244: {\n    passwordHash: 'fcbd99454edac0060823fc0dc73f62fe9d6c77ff1f554638e91477ebf3009551',\n    role: 'user',\n  },\n  JPKYETONKEY255: {\n    passwordHash: '496a06b7f065c12dae0449d1edaf56d4e0ee8a5d3a42fa89b5ee5e28d87d2614',\n    role: 'user',\n  },\n  JPKYETONKEY266: {\n    passwordHash: '72c725742b0a3577c7553d25ffc1711cc3dd05cf30b469409382153ee66dd7a4',\n    role: 'user',\n  },\n  JPKYETONKEY277: {\n    passwordHash: '224c1d62c70bd7de1352449b4a447fe4bc4af85f10a06d46d313dfb57e847610',\n    role: 'user',\n  },\n  JPKYETONKEY288: {\n    passwordHash: 'bd9334e1fe94a3fd642afd8b4832d637c4640095110d6efd26bc70d10c383f86',\n    role: 'user',\n  },\n  JPKYETONKEY299: {\n    passwordHash: '0e16c8432679bc51d23bdc7c9417008c126dcda3d5868b5fb878e6daac716d16',\n    role: 'user',\n  },\n  JPKYETONKEY300: {\n    passwordHash: '42adc3026e068b28392cbdee6a70394c03a3a60caa94f94a42fe8e51032770a8',\n    role: 'user',\n  },\n  JPusertest01: {\n    passwordHash: 'd5154a7beb5c6f9948a8dffdc9c6748e47ce9a40be9744e2296123d7e1347f88',\n    role: 'user',\n  },\n}\n\n/* \nüîê LINE Official Account / LIFF Settings\n==========================================\n\nVITE_LINE_LIFF_ID=462fqtfc\nVITE_LINE_OA_URL=https://lin.ee/BTTcGDx\nVITE_LINE_MANAGER_INVITE=https://manager.line.biz/invitation/V6SNepg1Q17MLT0V82KeWYegeXCfW0\n*/\n\nexport const envConfig = {\n  LINE_LIFF_ID: import.meta.env.VITE_LINE_LIFF_ID ?? '',\n  LINE_OA_URL: import.meta.env.VITE_LINE_OA_URL ?? '',\n  LINE_MANAGER_INVITE: import.meta.env.VITE_LINE_MANAGER_INVITE ?? '',\n}\n","// src/utils/hashPassword.ts\nexport async function hashPassword(password: string): Promise<string> {\n  const encoder = new TextEncoder()\n  const data = encoder.encode(password)\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data)\n  const hashArray = Array.from(new Uint8Array(hashBuffer))\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n  return hashHex\n}\n","export default \"__VITE_ASSET__bNMvMQRW__\"","// src/pages/LoginPage.tsx\n// ‚úÖ Secure Login with password hashing, role-based routing, and improved accessibility & UX, with warning image\n\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { users } from '@data/users'\nimport { hashPassword } from '@utils/hashPassword'\nimport warningImage from '@/assets/login.webp'\n\nconst LoginPage: React.FC = () => {\n  const navigate = useNavigate()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (loading) return\n\n    setError('')\n    setLoading(true)\n\n    const trimmedUsername = username.trim()\n    const trimmedPassword = password.trim()\n\n    if (!trimmedUsername || !trimmedPassword) {\n      setError('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö')\n      setLoading(false)\n      return\n    }\n\n    const user = users[trimmedUsername]\n    if (!user) {\n      setError('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á')\n      setPassword('')\n      setLoading(false)\n      return\n    }\n\n    try {\n      const hashed = await hashPassword(trimmedPassword)\n      if (hashed !== user.passwordHash) {\n        setError('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á')\n        setPassword('')\n        setLoading(false)\n        return\n      }\n    } catch {\n      setError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô')\n      setLoading(false)\n      return\n    }\n\n    localStorage.setItem('loggedInUser', trimmedUsername)\n    localStorage.setItem('userRole', user.role)\n    setLoading(false)\n\n    navigate(user.role === 'admin' ? '/admin' : '/secret', { replace: true })\n  }\n\n  return (\n    <main\n      role=\"main\"\n      aria-label=\"‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö\"\n      className=\"flex min-h-screen items-center justify-center bg-base-100 px-4\"\n    >\n      <form\n        onSubmit={handleLogin}\n        aria-label=\"‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö\"\n        className=\"w-full max-w-sm space-y-6 rounded-xl bg-base-200 p-6 shadow-xl\"\n        noValidate\n      >\n        <h1 className=\"select-none text-center text-3xl font-bold text-primary\">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h1>\n\n        {error && (\n          <div\n            role=\"alert\"\n            aria-live=\"assertive\"\n            className=\"flex flex-col items-center gap-3 rounded border border-error bg-error/10 p-4 text-center text-sm font-semibold text-error\"\n            tabIndex={-1}\n          >\n            <img\n              src={warningImage}\n              alt=\"‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö\"\n              className=\"mx-auto max-h-20 object-contain\"\n              aria-hidden=\"true\"\n            />\n            <span>{error}</span>\n          </div>\n        )}\n\n        <div className=\"form-control\">\n          <label htmlFor=\"username\" className=\"label\">\n            <span className=\"label-text font-medium\">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</span>\n          </label>\n          <input\n            id=\"username\"\n            type=\"text\"\n            className=\"input input-bordered\"\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n            autoComplete=\"username\"\n            required\n            placeholder=\"‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ\"\n            disabled={loading}\n            aria-disabled={loading}\n            aria-required=\"true\"\n            aria-describedby=\"username-desc\"\n          />\n          <small id=\"username-desc\" className=\"text-muted\">\n            ‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ\n          </small>\n        </div>\n\n        <div className=\"form-control\">\n          <label htmlFor=\"password\" className=\"label\">\n            <span className=\"label-text font-medium\">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</span>\n          </label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            className=\"input input-bordered\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            autoComplete=\"current-password\"\n            required\n            placeholder=\"‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô\"\n            disabled={loading}\n            aria-disabled={loading}\n            aria-required=\"true\"\n            aria-describedby=\"password-desc\"\n          />\n          <small id=\"password-desc\" className=\"text-muted\">\n            ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\n          </small>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary w-full\"\n          aria-label=\"‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö\"\n          disabled={loading}\n          aria-busy={loading}\n        >\n          {loading ? '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...' : '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö'}\n        </button>\n      </form>\n    </main>\n  )\n}\n\nexport default LoginPage\n"],"names":["users","hashPassword","password","data","hashBuffer","b","warningImage","LoginPage","navigate","useNavigate","username","setUsername","useState","setPassword","error","setError","loading","setLoading","handleLogin","e","trimmedUsername","trimmedPassword","user","jsx","jsxs"],"mappings":"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"}